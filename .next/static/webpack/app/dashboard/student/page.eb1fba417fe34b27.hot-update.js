"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/student/page",{

/***/ "(app-pages-browser)/./src/components/EnhancedAITutorChat.tsx":
/*!************************************************!*\
  !*** ./src/components/EnhancedAITutorChat.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EnhancedAITutorChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/brain.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/target.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chart-column.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=BarChart3,Brain,Calendar,Send,Settings,Sparkles,Target,User,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/advanced-intent-engine */ \"(app-pages-browser)/./src/lib/advanced-intent-engine.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction EnhancedAITutorChat() {\n    _s();\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inputMessage, setInputMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isInitializing, setIsInitializing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [currentMode, setCurrentMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.CHATTING);\n    const [smartSuggestions, setSmartSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [proactiveInsights, setProactiveInsights] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showModeSelector, setShowModeSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionId, setSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Configuración de modos conversacionales\n    const conversationModes = [\n        {\n            mode: _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.PLANNING,\n            icon: _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n            title: 'Planificación',\n            description: 'Organiza tu tiempo y crea planes de estudio',\n            color: 'bg-blue-100 text-blue-700 border-blue-200'\n        },\n        {\n            mode: _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.TUTORING,\n            icon: _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n            title: 'Tutoría',\n            description: 'Aprende conceptos y resuelve ejercicios',\n            color: 'bg-purple-100 text-purple-700 border-purple-200'\n        },\n        {\n            mode: _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.ORGANIZING,\n            icon: _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            title: 'Organización',\n            description: 'Gestiona materiales y recursos',\n            color: 'bg-green-100 text-green-700 border-green-200'\n        },\n        {\n            mode: _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.REVIEWING,\n            icon: _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            title: 'Análisis',\n            description: 'Revisa tu progreso y rendimiento',\n            color: 'bg-orange-100 text-orange-700 border-orange-200'\n        },\n        {\n            mode: _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.CHATTING,\n            icon: _barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n            title: 'Conversación',\n            description: 'Chat casual y apoyo motivacional',\n            color: 'bg-pink-100 text-pink-700 border-pink-200'\n        }\n    ];\n    // Generar sessionId estable al montar el componente\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedAITutorChat.useEffect\": ()=>{\n            if ((session === null || session === void 0 ? void 0 : session.user) && !sessionId) {\n                const newSessionId = \"session_\".concat(session.user.id, \"_\").concat(Date.now().toString(36), \"_\").concat(Math.random().toString(36).substr(2, 9));\n                setSessionId(newSessionId);\n                console.log('🎯 Generated stable sessionId:', newSessionId);\n            }\n        }\n    }[\"EnhancedAITutorChat.useEffect\"], [\n        session === null || session === void 0 ? void 0 : session.user,\n        sessionId\n    ]);\n    // Inicializar conversación con Sara\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedAITutorChat.useEffect\": ()=>{\n            if ((session === null || session === void 0 ? void 0 : session.user) && sessionId) {\n                initializeWithSara();\n            }\n        }\n    }[\"EnhancedAITutorChat.useEffect\"], [\n        session,\n        sessionId\n    ]);\n    // Auto-scroll y foco\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedAITutorChat.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"EnhancedAITutorChat.useEffect\"], [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EnhancedAITutorChat.useEffect\": ()=>{\n            if (!isLoading && inputRef.current) {\n                inputRef.current.focus();\n            }\n        }\n    }[\"EnhancedAITutorChat.useEffect\"], [\n        isLoading\n    ]);\n    const initializeWithSara = async ()=>{\n        try {\n            var _session_user, _session_user1;\n            setIsInitializing(true);\n            // Inicializar conversación con Sara\n            const response = await fetch('/api/ai-chat/initialize', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    userId: session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id,\n                    userName: session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.name,\n                    sessionId: sessionId,\n                    mode: currentMode\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                const welcomeMessage = {\n                    id: \"init_\".concat(Date.now()),\n                    type: 'ai',\n                    content: data.welcomeMessage || '¡Hola! Soy Sara, tu asistente personal académico. ¿En qué puedo ayudarte hoy?',\n                    timestamp: new Date(),\n                    mode: currentMode,\n                    metadata: {\n                        suggestedActions: data.suggestedActions || [\n                            'Planificar sesiones de estudio',\n                            'Revisar mi progreso',\n                            'Organizar mi horario',\n                            'Buscar materiales de estudio'\n                        ],\n                        followUpQuestions: data.followUpQuestions || [\n                            '¿Qué te gustaría lograr hoy?',\n                            '¿Hay alguna materia en la que necesites ayuda?'\n                        ]\n                    }\n                };\n                setMessages([\n                    welcomeMessage\n                ]);\n                // Cargar insights proactivos\n                if (data.proactiveInsights) {\n                    setProactiveInsights(data.proactiveInsights);\n                }\n                // Generar sugerencias inteligentes\n                generateSmartSuggestions(currentMode);\n            } else {\n                console.error('Error initializing chat');\n            }\n        } catch (error) {\n            console.error('Error initializing Sara:', error);\n        } finally{\n            setIsInitializing(false);\n        }\n    };\n    const sendMessage = async ()=>{\n        if (!inputMessage.trim() || isLoading) return;\n        const userMessage = {\n            id: \"user_\".concat(Date.now()),\n            type: 'user',\n            content: inputMessage.trim(),\n            timestamp: new Date(),\n            mode: currentMode\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInputMessage('');\n        setIsLoading(true);\n        setIsTyping(true);\n        try {\n            var _session_user, _session_user1;\n            console.log('📤 Sending message with sessionId:', sessionId);\n            // Procesar comando avanzado con Sara\n            const response = await fetch('/api/ai-chat/enhanced-message', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    message: userMessage.content,\n                    userId: session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id,\n                    userName: session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.name,\n                    sessionId: sessionId,\n                    currentMode,\n                    conversationHistory: messages.slice(-10).map((m)=>({\n                            role: m.type === 'user' ? 'user' : 'assistant',\n                            content: m.content\n                        }))\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                const aiMessage = {\n                    id: \"ai_\".concat(Date.now()),\n                    type: 'ai',\n                    content: data.response,\n                    timestamp: new Date(),\n                    mode: data.suggestedMode || currentMode,\n                    intent: data.detectedIntent,\n                    metadata: {\n                        suggestedActions: data.suggestedActions,\n                        followUpQuestions: data.followUpQuestions,\n                        visualizations: data.visualizations,\n                        priority: data.priority,\n                        resources: data.resources\n                    }\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        aiMessage\n                    ]);\n                // Actualizar modo si Sara lo sugiere\n                if (data.suggestedMode && data.suggestedMode !== currentMode) {\n                    setCurrentMode(data.suggestedMode);\n                }\n                // Generar nuevas sugerencias basadas en la conversación\n                generateContextualSuggestions(data.detectedIntent, data.response);\n            } else {\n                throw new Error('Error en la respuesta del servidor');\n            }\n        } catch (error) {\n            console.error('Error sending message:', error);\n            const errorMessage = {\n                id: \"error_\".concat(Date.now()),\n                type: 'system',\n                content: 'Lo siento, hubo un problema procesando tu mensaje. Por favor intenta de nuevo.',\n                timestamp: new Date(),\n                mode: currentMode\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setIsLoading(false);\n            setIsTyping(false);\n        }\n    };\n    const selectSuggestion = (suggestion)=>{\n        setInputMessage(suggestion);\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    };\n    const changeMode = (newMode)=>{\n        setCurrentMode(newMode);\n        setShowModeSelector(false);\n        // Mensaje del sistema sobre cambio de modo\n        const modeInfo = conversationModes.find((m)=>m.mode === newMode);\n        const systemMessage = {\n            id: \"mode_\".concat(Date.now()),\n            type: 'system',\n            content: \"Modo cambiado a: \".concat(modeInfo === null || modeInfo === void 0 ? void 0 : modeInfo.title, \". \").concat(modeInfo === null || modeInfo === void 0 ? void 0 : modeInfo.description),\n            timestamp: new Date(),\n            mode: newMode\n        };\n        setMessages((prev)=>[\n                ...prev,\n                systemMessage\n            ]);\n        generateSmartSuggestions(newMode);\n    };\n    const generateSmartSuggestions = (mode)=>{\n        const suggestions = {\n            [_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.PLANNING]: [\n                \"Crea un plan de estudio para esta semana\",\n                \"Organiza mi horario de matemáticas\",\n                \"¿Cuándo debería estudiar para el examen?\",\n                \"Optimiza mi tiempo de estudio\"\n            ],\n            [_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.TUTORING]: [\n                \"Explícame este concepto de física\",\n                \"Ayúdame con este ejercicio de química\",\n                \"¿Puedes resolver este problema paso a paso?\",\n                \"Necesito practicar álgebra\"\n            ],\n            [_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.ORGANIZING]: [\n                \"Organiza mis materiales de estudio\",\n                \"Importa mi horario escolar\",\n                \"Encuentra recursos para biología\",\n                \"Gestiona mis deadlines\"\n            ],\n            [_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.REVIEWING]: [\n                \"Analiza mi progreso académico\",\n                \"¿Cómo voy en matemáticas?\",\n                \"Muestra mis estadísticas de estudio\",\n                \"¿En qué materias debo mejorar?\"\n            ],\n            [_lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.CHATTING]: [\n                \"¿Cómo puedo mantenerme motivado?\",\n                \"Me siento abrumado con los estudios\",\n                \"Necesito consejos para concentrarme\",\n                \"¿Cómo balanceo estudio y vida personal?\"\n            ]\n        };\n        setSmartSuggestions(suggestions[mode] || []);\n    };\n    const generateContextualSuggestions = (intent, response)=>{\n        // Generar sugerencias basadas en el contexto de la conversación\n        if (intent === _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.IntentType.SCHEDULE_MANAGEMENT) {\n            setSmartSuggestions([\n                \"Muestra mi calendario optimizado\",\n                \"Detecta conflictos en mi horario\",\n                \"Programa sesiones de estudio automáticamente\"\n            ]);\n        } else if (intent === _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.IntentType.PERFORMANCE_ANALYSIS) {\n            setSmartSuggestions([\n                \"¿Qué materias necesitan más atención?\",\n                \"Genera un plan de mejora personalizado\",\n                \"Compara mi rendimiento con objetivos\"\n            ]);\n        }\n    };\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: 'smooth'\n        });\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    const renderMessage = (message)=>{\n        var _message_metadata, _message_metadata1, _conversationModes_find;\n        const isUser = message.type === 'user';\n        const isSystem = message.type === 'system';\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex \".concat(isUser ? 'justify-end' : 'justify-start', \" mb-4\"),\n            children: [\n                !isUser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-shrink-0 mr-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-8 h-8 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-full flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            className: \"w-4 h-4 text-white\"\n                        }, void 0, false, {\n                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                            lineNumber: 366,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 365,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                    lineNumber: 364,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-[80%] \".concat(isUser ? 'order-1' : 'order-2'),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 rounded-2xl \".concat(isUser ? 'bg-teal-600 text-white' : isSystem ? 'bg-gray-100 text-gray-700 border-l-4 border-blue-500' : 'bg-white border border-gray-200 text-gray-800'),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"whitespace-pre-wrap\",\n                                    children: message.content\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 381,\n                                    columnNumber: 13\n                                }, this),\n                                ((_message_metadata = message.metadata) === null || _message_metadata === void 0 ? void 0 : _message_metadata.suggestedActions) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 flex flex-wrap gap-2\",\n                                    children: message.metadata.suggestedActions.map((action, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>selectSuggestion(action),\n                                            className: \"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm hover:bg-teal-200 transition-colors\",\n                                            children: action\n                                        }, index, false, {\n                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                            lineNumber: 386,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 384,\n                                    columnNumber: 15\n                                }, this),\n                                ((_message_metadata1 = message.metadata) === null || _message_metadata1 === void 0 ? void 0 : _message_metadata1.followUpQuestions) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-3 text-sm opacity-75\",\n                                    children: message.metadata.followUpQuestions.map((question, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-1\",\n                                            children: [\n                                                \"\\uD83D\\uDCAD \",\n                                                question\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                            lineNumber: 400,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                            lineNumber: 372,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-gray-500 mt-1 px-1\",\n                            children: [\n                                message.timestamp instanceof Date ? message.timestamp.toLocaleTimeString('es-ES', {\n                                    hour: '2-digit',\n                                    minute: '2-digit'\n                                }) : new Date(message.timestamp).toLocaleTimeString('es-ES', {\n                                    hour: '2-digit',\n                                    minute: '2-digit'\n                                }),\n                                message.mode !== _lib_advanced_intent_engine__WEBPACK_IMPORTED_MODULE_3__.ConversationMode.CHATTING && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-2 text-teal-600\",\n                                    children: [\n                                        \"• \",\n                                        (_conversationModes_find = conversationModes.find((m)=>m.mode === message.mode)) === null || _conversationModes_find === void 0 ? void 0 : _conversationModes_find.title\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 412,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                            lineNumber: 406,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                    lineNumber: 371,\n                    columnNumber: 9\n                }, this),\n                isUser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-shrink-0 ml-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"w-4 h-4 text-gray-600\"\n                        }, void 0, false, {\n                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                            lineNumber: 422,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 421,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                    lineNumber: 420,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, message.id, true, {\n            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n            lineNumber: 362,\n            columnNumber: 7\n        }, this);\n    };\n    if (isInitializing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center h-96\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500 mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 434,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"Inicializando Sara...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 435,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                lineNumber: 433,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n            lineNumber: 432,\n            columnNumber: 7\n        }, this);\n    }\n    const currentModeInfo = conversationModes.find((m)=>m.mode === currentMode);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-[600px] bg-white rounded-xl border border-gray-200 shadow-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-teal-50 to-emerald-50\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-10 h-10 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-full flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-5 h-5 text-white\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 449,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 448,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold text-gray-900\",\n                                        children: \"Sara - Asistente Personal Acad\\xe9mico\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600\",\n                                        children: [\n                                            \"Modo: \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium text-teal-600\",\n                                                children: currentModeInfo === null || currentModeInfo === void 0 ? void 0 : currentModeInfo.title\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                        lineNumber: 453,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 451,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowModeSelector(!showModeSelector),\n                                className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n                                title: \"Cambiar modo de conversaci\\xf3n\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    className: \"w-5 h-5 text-gray-600\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 465,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 460,\n                                columnNumber: 11\n                            }, this),\n                            showModeSelector && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute right-0 top-12 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-10\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 border-b border-gray-100\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                className: \"font-medium text-gray-900\",\n                                                children: \"Modos de Conversaci\\xf3n\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                lineNumber: 471,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: \"Selecciona el tipo de ayuda que necesitas\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                lineNumber: 472,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                        lineNumber: 470,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-2\",\n                                        children: conversationModes.map((modeInfo)=>{\n                                            const IconComponent = modeInfo.icon;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>changeMode(modeInfo.mode),\n                                                className: \"w-full p-3 rounded-lg border text-left transition-colors mb-2 \".concat(currentMode === modeInfo.mode ? modeInfo.color : 'border-gray-200 hover:bg-gray-50'),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                            className: \"w-5 h-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                            lineNumber: 488,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"font-medium\",\n                                                                    children: modeInfo.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                                    lineNumber: 490,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm opacity-75\",\n                                                                    children: modeInfo.description\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                                    lineNumber: 491,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                            lineNumber: 489,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                    lineNumber: 487,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, modeInfo.mode, false, {\n                                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                                lineNumber: 478,\n                                                columnNumber: 21\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                        lineNumber: 474,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 469,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 459,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                lineNumber: 446,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                children: [\n                    messages.map(renderMessage),\n                    isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 text-gray-500\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-gradient-to-br from-teal-500 to-emerald-500 rounded-full flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4 text-white\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 509,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-100 rounded-lg px-4 py-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex space-x-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                            lineNumber: 514,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: '0.1s'\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                            lineNumber: 515,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: '0.2s'\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                            lineNumber: 516,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 513,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 508,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 522,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                lineNumber: 504,\n                columnNumber: 7\n            }, this),\n            smartSuggestions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-2 border-t border-gray-100\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"w-4 h-4 text-yellow-500\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 529,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-gray-700\",\n                                children: \"Sugerencias\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 530,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap gap-2\",\n                        children: smartSuggestions.slice(0, 4).map((suggestion, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>selectSuggestion(suggestion),\n                                className: \"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors\",\n                                children: suggestion\n                            }, index, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 534,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 532,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                lineNumber: 527,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 relative\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    ref: inputRef,\n                                    type: \"text\",\n                                    value: inputMessage,\n                                    onChange: (e)=>setInputMessage(e.target.value),\n                                    onKeyPress: handleKeyPress,\n                                    placeholder: \"Escribe tu mensaje para \".concat(currentModeInfo === null || currentModeInfo === void 0 ? void 0 : currentModeInfo.title.toLowerCase(), \"...\"),\n                                    className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none\",\n                                    disabled: isLoading\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 550,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 549,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendMessage,\n                                disabled: !inputMessage.trim() || isLoading,\n                                className: \"px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 567,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BarChart3_Brain_Calendar_Send_Settings_Sparkles_Target_User_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                    lineNumber: 569,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                                lineNumber: 561,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 548,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 text-xs text-gray-500 text-center\",\n                        children: \"Sara responde usando inteligencia artificial. Verifica informaci\\xf3n importante.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                        lineNumber: 574,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n                lineNumber: 547,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/rodrigodibernardo33gmail.com/Documents/App Development Proyects/Intellego Platform/src/components/EnhancedAITutorChat.tsx\",\n        lineNumber: 444,\n        columnNumber: 5\n    }, this);\n}\n_s(EnhancedAITutorChat, \"0IaKuBk/bulAyBiGAKyVwV9+6Hc=\", false, function() {\n    return [\n        next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession\n    ];\n});\n_c = EnhancedAITutorChat;\nvar _c;\n$RefreshReg$(_c, \"EnhancedAITutorChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0VuaGFuY2VkQUlUdXRvckNoYXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVtRDtBQUNnRjtBQUN2RjtBQUMrQjtBQWtDNUQsU0FBU2U7O0lBQ3RCLE1BQU0sRUFBRUMsTUFBTUMsT0FBTyxFQUFFLEdBQUdMLDJEQUFVQTtJQUNwQyxNQUFNLENBQUNNLFVBQVVDLFlBQVksR0FBR25CLCtDQUFRQSxDQUF3QixFQUFFO0lBQ2xFLE1BQU0sQ0FBQ29CLGNBQWNDLGdCQUFnQixHQUFHckIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDc0IsV0FBV0MsYUFBYSxHQUFHdkIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDd0IsZ0JBQWdCQyxrQkFBa0IsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQzBCLGFBQWFDLGVBQWUsR0FBRzNCLCtDQUFRQSxDQUFtQmEseUVBQWdCQSxDQUFDZSxRQUFRO0lBQzFGLE1BQU0sQ0FBQ0Msa0JBQWtCQyxvQkFBb0IsR0FBRzlCLCtDQUFRQSxDQUFXLEVBQUU7SUFDckUsTUFBTSxDQUFDK0IsbUJBQW1CQyxxQkFBcUIsR0FBR2hDLCtDQUFRQSxDQUFXLEVBQUU7SUFDdkUsTUFBTSxDQUFDaUMsa0JBQWtCQyxvQkFBb0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ21DLFVBQVVDLFlBQVksR0FBR3BDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3FDLFdBQVdDLGFBQWEsR0FBR3RDLCtDQUFRQSxDQUFTO0lBRW5ELE1BQU11QyxpQkFBaUJyQyw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTXNDLFdBQVd0Qyw2Q0FBTUEsQ0FBbUI7SUFFMUMsMENBQTBDO0lBQzFDLE1BQU11QyxvQkFBb0I7UUFDeEI7WUFDRUMsTUFBTTdCLHlFQUFnQkEsQ0FBQzhCLFFBQVE7WUFDL0JDLE1BQU1uQywySUFBUUE7WUFDZG9DLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxPQUFPO1FBQ1Q7UUFDQTtZQUNFTCxNQUFNN0IseUVBQWdCQSxDQUFDbUMsUUFBUTtZQUMvQkosTUFBTXhDLDJJQUFLQTtZQUNYeUMsT0FBTztZQUNQQyxhQUFhO1lBQ2JDLE9BQU87UUFDVDtRQUNBO1lBQ0VMLE1BQU03Qix5RUFBZ0JBLENBQUNvQyxVQUFVO1lBQ2pDTCxNQUFNdkMsMklBQU1BO1lBQ1p3QyxPQUFPO1lBQ1BDLGFBQWE7WUFDYkMsT0FBTztRQUNUO1FBQ0E7WUFDRUwsTUFBTTdCLHlFQUFnQkEsQ0FBQ3FDLFNBQVM7WUFDaENOLE1BQU1wQywySUFBU0E7WUFDZnFDLE9BQU87WUFDUEMsYUFBYTtZQUNiQyxPQUFPO1FBQ1Q7UUFDQTtZQUNFTCxNQUFNN0IseUVBQWdCQSxDQUFDZSxRQUFRO1lBQy9CZ0IsTUFBTXJDLDJJQUFRQTtZQUNkc0MsT0FBTztZQUNQQyxhQUFhO1lBQ2JDLE9BQU87UUFDVDtLQUNEO0lBRUQsb0RBQW9EO0lBQ3BEOUMsZ0RBQVNBO3lDQUFDO1lBQ1IsSUFBSWdCLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU2tDLElBQUksS0FBSSxDQUFDZCxXQUFXO2dCQUMvQixNQUFNZSxlQUFlLFdBQThCQyxPQUFuQnBDLFFBQVFrQyxJQUFJLENBQUNHLEVBQUUsRUFBQyxLQUE4QkMsT0FBM0JGLEtBQUtHLEdBQUcsR0FBR0MsUUFBUSxDQUFDLEtBQUksS0FBMkMsT0FBeENGLEtBQUtHLE1BQU0sR0FBR0QsUUFBUSxDQUFDLElBQUlFLE1BQU0sQ0FBQyxHQUFHO2dCQUNuSHJCLGFBQWFjO2dCQUNiUSxRQUFRQyxHQUFHLENBQUMsa0NBQWtDVDtZQUNoRDtRQUNGO3dDQUFHO1FBQUNuQyxvQkFBQUEsOEJBQUFBLFFBQVNrQyxJQUFJO1FBQUVkO0tBQVU7SUFFN0Isb0NBQW9DO0lBQ3BDcEMsZ0RBQVNBO3lDQUFDO1lBQ1IsSUFBSWdCLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU2tDLElBQUksS0FBSWQsV0FBVztnQkFDOUJ5QjtZQUNGO1FBQ0Y7d0NBQUc7UUFBQzdDO1FBQVNvQjtLQUFVO0lBRXZCLHFCQUFxQjtJQUNyQnBDLGdEQUFTQTt5Q0FBQztZQUNSOEQ7UUFDRjt3Q0FBRztRQUFDN0M7S0FBUztJQUViakIsZ0RBQVNBO3lDQUFDO1lBQ1IsSUFBSSxDQUFDcUIsYUFBYWtCLFNBQVN3QixPQUFPLEVBQUU7Z0JBQ2xDeEIsU0FBU3dCLE9BQU8sQ0FBQ0MsS0FBSztZQUN4QjtRQUNGO3dDQUFHO1FBQUMzQztLQUFVO0lBRWQsTUFBTXdDLHFCQUFxQjtRQUN6QixJQUFJO2dCQVFVN0MsZUFDRUE7WUFSZFEsa0JBQWtCO1lBRWxCLG9DQUFvQztZQUNwQyxNQUFNeUMsV0FBVyxNQUFNQyxNQUFNLDJCQUEyQjtnQkFDdERDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJDLE1BQU0sRUFBRXhELG9CQUFBQSwrQkFBQUEsZ0JBQUFBLFFBQVNrQyxJQUFJLGNBQWJsQyxvQ0FBQUEsY0FBZXFDLEVBQUU7b0JBQ3pCb0IsUUFBUSxFQUFFekQsb0JBQUFBLCtCQUFBQSxpQkFBQUEsUUFBU2tDLElBQUksY0FBYmxDLHFDQUFBQSxlQUFlMEQsSUFBSTtvQkFDN0J0QyxXQUFXQTtvQkFDWEssTUFBTWhCO2dCQUNSO1lBQ0Y7WUFFQSxJQUFJd0MsU0FBU1UsRUFBRSxFQUFFO2dCQUNmLE1BQU01RCxPQUFPLE1BQU1rRCxTQUFTVyxJQUFJO2dCQUVoQyxNQUFNQyxpQkFBc0M7b0JBQzFDeEIsSUFBSSxRQUFtQixPQUFYRCxLQUFLRyxHQUFHO29CQUNwQnVCLE1BQU07b0JBQ05DLFNBQVNoRSxLQUFLOEQsY0FBYyxJQUFJO29CQUNoQ0csV0FBVyxJQUFJNUI7b0JBQ2ZYLE1BQU1oQjtvQkFDTndELFVBQVU7d0JBQ1JDLGtCQUFrQm5FLEtBQUttRSxnQkFBZ0IsSUFBSTs0QkFDekM7NEJBQ0E7NEJBQ0E7NEJBQ0E7eUJBQ0Q7d0JBQ0RDLG1CQUFtQnBFLEtBQUtvRSxpQkFBaUIsSUFBSTs0QkFDM0M7NEJBQ0E7eUJBQ0Q7b0JBQ0g7Z0JBQ0Y7Z0JBRUFqRSxZQUFZO29CQUFDMkQ7aUJBQWU7Z0JBRTVCLDZCQUE2QjtnQkFDN0IsSUFBSTlELEtBQUtlLGlCQUFpQixFQUFFO29CQUMxQkMscUJBQXFCaEIsS0FBS2UsaUJBQWlCO2dCQUM3QztnQkFFQSxtQ0FBbUM7Z0JBQ25Dc0QseUJBQXlCM0Q7WUFFM0IsT0FBTztnQkFDTGtDLFFBQVEwQixLQUFLLENBQUM7WUFDaEI7UUFDRixFQUFFLE9BQU9BLE9BQU87WUFDZDFCLFFBQVEwQixLQUFLLENBQUMsNEJBQTRCQTtRQUM1QyxTQUFVO1lBQ1I3RCxrQkFBa0I7UUFDcEI7SUFDRjtJQUVBLE1BQU04RCxjQUFjO1FBQ2xCLElBQUksQ0FBQ25FLGFBQWFvRSxJQUFJLE1BQU1sRSxXQUFXO1FBRXZDLE1BQU1tRSxjQUFtQztZQUN2Q25DLElBQUksUUFBbUIsT0FBWEQsS0FBS0csR0FBRztZQUNwQnVCLE1BQU07WUFDTkMsU0FBUzVELGFBQWFvRSxJQUFJO1lBQzFCUCxXQUFXLElBQUk1QjtZQUNmWCxNQUFNaEI7UUFDUjtRQUVBUCxZQUFZdUUsQ0FBQUEsT0FBUTttQkFBSUE7Z0JBQU1EO2FBQVk7UUFDMUNwRSxnQkFBZ0I7UUFDaEJFLGFBQWE7UUFDYmEsWUFBWTtRQUVaLElBQUk7Z0JBU1VuQixlQUNFQTtZQVRkMkMsUUFBUUMsR0FBRyxDQUFDLHNDQUFzQ3hCO1lBRWxELHFDQUFxQztZQUNyQyxNQUFNNkIsV0FBVyxNQUFNQyxNQUFNLGlDQUFpQztnQkFDNURDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJtQixTQUFTRixZQUFZVCxPQUFPO29CQUM1QlAsTUFBTSxFQUFFeEQsb0JBQUFBLCtCQUFBQSxnQkFBQUEsUUFBU2tDLElBQUksY0FBYmxDLG9DQUFBQSxjQUFlcUMsRUFBRTtvQkFDekJvQixRQUFRLEVBQUV6RCxvQkFBQUEsK0JBQUFBLGlCQUFBQSxRQUFTa0MsSUFBSSxjQUFibEMscUNBQUFBLGVBQWUwRCxJQUFJO29CQUM3QnRDLFdBQVdBO29CQUNYWDtvQkFDQWtFLHFCQUFxQjFFLFNBQVMyRSxLQUFLLENBQUMsQ0FBQyxJQUFJQyxHQUFHLENBQUNDLENBQUFBLElBQU07NEJBQ2pEQyxNQUFNRCxFQUFFaEIsSUFBSSxLQUFLLFNBQVMsU0FBUzs0QkFDbkNDLFNBQVNlLEVBQUVmLE9BQU87d0JBQ3BCO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJZCxTQUFTVSxFQUFFLEVBQUU7Z0JBQ2YsTUFBTTVELE9BQU8sTUFBTWtELFNBQVNXLElBQUk7Z0JBRWhDLE1BQU1vQixZQUFpQztvQkFDckMzQyxJQUFJLE1BQWlCLE9BQVhELEtBQUtHLEdBQUc7b0JBQ2xCdUIsTUFBTTtvQkFDTkMsU0FBU2hFLEtBQUtrRCxRQUFRO29CQUN0QmUsV0FBVyxJQUFJNUI7b0JBQ2ZYLE1BQU0xQixLQUFLa0YsYUFBYSxJQUFJeEU7b0JBQzVCeUUsUUFBUW5GLEtBQUtvRixjQUFjO29CQUMzQmxCLFVBQVU7d0JBQ1JDLGtCQUFrQm5FLEtBQUttRSxnQkFBZ0I7d0JBQ3ZDQyxtQkFBbUJwRSxLQUFLb0UsaUJBQWlCO3dCQUN6Q2lCLGdCQUFnQnJGLEtBQUtxRixjQUFjO3dCQUNuQ0MsVUFBVXRGLEtBQUtzRixRQUFRO3dCQUN2QkMsV0FBV3ZGLEtBQUt1RixTQUFTO29CQUMzQjtnQkFDRjtnQkFFQXBGLFlBQVl1RSxDQUFBQSxPQUFROzJCQUFJQTt3QkFBTU87cUJBQVU7Z0JBRXhDLHFDQUFxQztnQkFDckMsSUFBSWpGLEtBQUtrRixhQUFhLElBQUlsRixLQUFLa0YsYUFBYSxLQUFLeEUsYUFBYTtvQkFDNURDLGVBQWVYLEtBQUtrRixhQUFhO2dCQUNuQztnQkFFQSx3REFBd0Q7Z0JBQ3hETSw4QkFBOEJ4RixLQUFLb0YsY0FBYyxFQUFFcEYsS0FBS2tELFFBQVE7WUFFbEUsT0FBTztnQkFDTCxNQUFNLElBQUl1QyxNQUFNO1lBQ2xCO1FBQ0YsRUFBRSxPQUFPbkIsT0FBTztZQUNkMUIsUUFBUTBCLEtBQUssQ0FBQywwQkFBMEJBO1lBRXhDLE1BQU1vQixlQUFvQztnQkFDeENwRCxJQUFJLFNBQW9CLE9BQVhELEtBQUtHLEdBQUc7Z0JBQ3JCdUIsTUFBTTtnQkFDTkMsU0FBUztnQkFDVEMsV0FBVyxJQUFJNUI7Z0JBQ2ZYLE1BQU1oQjtZQUNSO1lBRUFQLFlBQVl1RSxDQUFBQSxPQUFRO3VCQUFJQTtvQkFBTWdCO2lCQUFhO1FBQzdDLFNBQVU7WUFDUm5GLGFBQWE7WUFDYmEsWUFBWTtRQUNkO0lBQ0Y7SUFFQSxNQUFNdUUsbUJBQW1CLENBQUNDO1FBQ3hCdkYsZ0JBQWdCdUY7UUFDaEIsSUFBSXBFLFNBQVN3QixPQUFPLEVBQUU7WUFDcEJ4QixTQUFTd0IsT0FBTyxDQUFDQyxLQUFLO1FBQ3hCO0lBQ0Y7SUFFQSxNQUFNNEMsYUFBYSxDQUFDQztRQUNsQm5GLGVBQWVtRjtRQUNmNUUsb0JBQW9CO1FBRXBCLDJDQUEyQztRQUMzQyxNQUFNNkUsV0FBV3RFLGtCQUFrQnVFLElBQUksQ0FBQ2pCLENBQUFBLElBQUtBLEVBQUVyRCxJQUFJLEtBQUtvRTtRQUN4RCxNQUFNRyxnQkFBcUM7WUFDekMzRCxJQUFJLFFBQW1CLE9BQVhELEtBQUtHLEdBQUc7WUFDcEJ1QixNQUFNO1lBQ05DLFNBQVMsMkJBQW9CK0IscUJBQUFBLCtCQUFBQSxTQUFVbEUsS0FBSyxFQUFDLE1BQTBCLE9BQXRCa0UscUJBQUFBLCtCQUFBQSxTQUFVakUsV0FBVztZQUN0RW1DLFdBQVcsSUFBSTVCO1lBQ2ZYLE1BQU1vRTtRQUNSO1FBRUEzRixZQUFZdUUsQ0FBQUEsT0FBUTttQkFBSUE7Z0JBQU11QjthQUFjO1FBQzVDNUIseUJBQXlCeUI7SUFDM0I7SUFFQSxNQUFNekIsMkJBQTJCLENBQUMzQztRQUNoQyxNQUFNd0UsY0FBYztZQUNsQixDQUFDckcseUVBQWdCQSxDQUFDOEIsUUFBUSxDQUFDLEVBQUU7Z0JBQzNCO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDRCxDQUFDOUIseUVBQWdCQSxDQUFDbUMsUUFBUSxDQUFDLEVBQUU7Z0JBQzNCO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDRCxDQUFDbkMseUVBQWdCQSxDQUFDb0MsVUFBVSxDQUFDLEVBQUU7Z0JBQzdCO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDRCxDQUFDcEMseUVBQWdCQSxDQUFDcUMsU0FBUyxDQUFDLEVBQUU7Z0JBQzVCO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDRCxDQUFDckMseUVBQWdCQSxDQUFDZSxRQUFRLENBQUMsRUFBRTtnQkFDM0I7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUNIO1FBRUFFLG9CQUFvQm9GLFdBQVcsQ0FBQ3hFLEtBQUssSUFBSSxFQUFFO0lBQzdDO0lBRUEsTUFBTThELGdDQUFnQyxDQUFDTCxRQUFxQmpDO1FBQzFELGdFQUFnRTtRQUNoRSxJQUFJaUMsV0FBV3JGLG1FQUFVQSxDQUFDcUcsbUJBQW1CLEVBQUU7WUFDN0NyRixvQkFBb0I7Z0JBQ2xCO2dCQUNBO2dCQUNBO2FBQ0Q7UUFDSCxPQUFPLElBQUlxRSxXQUFXckYsbUVBQVVBLENBQUNzRyxvQkFBb0IsRUFBRTtZQUNyRHRGLG9CQUFvQjtnQkFDbEI7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUNIO0lBQ0Y7SUFFQSxNQUFNaUMsaUJBQWlCO1lBQ3JCeEI7U0FBQUEsMEJBQUFBLGVBQWV5QixPQUFPLGNBQXRCekIsOENBQUFBLHdCQUF3QjhFLGNBQWMsQ0FBQztZQUFFQyxVQUFVO1FBQVM7SUFDOUQ7SUFFQSxNQUFNQyxpQkFBaUIsQ0FBQ0M7UUFDdEIsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFdBQVcsQ0FBQ0QsRUFBRUUsUUFBUSxFQUFFO1lBQ3BDRixFQUFFRyxjQUFjO1lBQ2hCcEM7UUFDRjtJQUNGO0lBRUEsTUFBTXFDLGdCQUFnQixDQUFDakM7WUEwQlpBLG1CQWNBQSxvQkFnQk1sRDtRQXZEZixNQUFNb0YsU0FBU2xDLFFBQVFaLElBQUksS0FBSztRQUNoQyxNQUFNK0MsV0FBV25DLFFBQVFaLElBQUksS0FBSztRQUVsQyxxQkFDRSw4REFBQ2dEO1lBQXFCQyxXQUFXLFFBQWlELE9BQXpDSCxTQUFTLGdCQUFnQixpQkFBZ0I7O2dCQUMvRSxDQUFDQSx3QkFDQSw4REFBQ0U7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDNUgsMklBQUtBOzRCQUFDNEgsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFLdkIsOERBQUNEO29CQUFJQyxXQUFXLGVBQThDLE9BQS9CSCxTQUFTLFlBQVk7O3NDQUNsRCw4REFBQ0U7NEJBQ0NDLFdBQVcsbUJBTVYsT0FMQ0gsU0FDSSwyQkFDQUMsV0FDQSx5REFDQTs7OENBR04sOERBQUNDO29DQUFJQyxXQUFVOzhDQUF1QnJDLFFBQVFYLE9BQU87Ozs7OztnQ0FFcERXLEVBQUFBLG9CQUFBQSxRQUFRVCxRQUFRLGNBQWhCUyx3Q0FBQUEsa0JBQWtCUixnQkFBZ0IsbUJBQ2pDLDhEQUFDNEM7b0NBQUlDLFdBQVU7OENBQ1pyQyxRQUFRVCxRQUFRLENBQUNDLGdCQUFnQixDQUFDVyxHQUFHLENBQUMsQ0FBQ21DLFFBQVFDLHNCQUM5Qyw4REFBQ0M7NENBRUNDLFNBQVMsSUFBTXpCLGlCQUFpQnNCOzRDQUNoQ0QsV0FBVTtzREFFVEM7MkNBSklDOzs7Ozs7Ozs7O2dDQVVadkMsRUFBQUEscUJBQUFBLFFBQVFULFFBQVEsY0FBaEJTLHlDQUFBQSxtQkFBa0JQLGlCQUFpQixtQkFDbEMsOERBQUMyQztvQ0FBSUMsV0FBVTs4Q0FDWnJDLFFBQVFULFFBQVEsQ0FBQ0UsaUJBQWlCLENBQUNVLEdBQUcsQ0FBQyxDQUFDdUMsVUFBVUgsc0JBQ2pELDhEQUFDSDs0Q0FBZ0JDLFdBQVU7O2dEQUFPO2dEQUFJSzs7MkNBQTVCSDs7Ozs7Ozs7Ozs7Ozs7OztzQ0FNbEIsOERBQUNIOzRCQUFJQyxXQUFVOztnQ0FDWnJDLFFBQVFWLFNBQVMsWUFBWTVCLE9BQzFCc0MsUUFBUVYsU0FBUyxDQUFDcUQsa0JBQWtCLENBQUMsU0FBUztvQ0FBRUMsTUFBTTtvQ0FBV0MsUUFBUTtnQ0FBVSxLQUNuRixJQUFJbkYsS0FBS3NDLFFBQVFWLFNBQVMsRUFBRXFELGtCQUFrQixDQUFDLFNBQVM7b0NBQUVDLE1BQU07b0NBQVdDLFFBQVE7Z0NBQVU7Z0NBRWhHN0MsUUFBUWpELElBQUksS0FBSzdCLHlFQUFnQkEsQ0FBQ2UsUUFBUSxrQkFDekMsOERBQUM2RztvQ0FBS1QsV0FBVTs7d0NBQXFCO3lDQUNoQ3ZGLDBCQUFBQSxrQkFBa0J1RSxJQUFJLENBQUNqQixDQUFBQSxJQUFLQSxFQUFFckQsSUFBSSxLQUFLaUQsUUFBUWpELElBQUksZUFBbkRELDhDQUFBQSx3QkFBc0RJLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0JBTXJFZ0Ysd0JBQ0MsOERBQUNFO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDRDt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQzFILDJJQUFJQTs0QkFBQzBILFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBNURkckMsUUFBUXJDLEVBQUU7Ozs7O0lBa0V4QjtJQUVBLElBQUk5QixnQkFBZ0I7UUFDbEIscUJBQ0UsOERBQUN1RztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzs7Ozs7a0NBQ2YsOERBQUNVO3dCQUFFVixXQUFVO2tDQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJckM7SUFFQSxNQUFNVyxrQkFBa0JsRyxrQkFBa0J1RSxJQUFJLENBQUNqQixDQUFBQSxJQUFLQSxFQUFFckQsSUFBSSxLQUFLaEI7SUFFL0QscUJBQ0UsOERBQUNxRztRQUFJQyxXQUFVOzswQkFFYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUNiLDRFQUFDNUgsMklBQUtBO29DQUFDNEgsV0FBVTs7Ozs7Ozs7Ozs7MENBRW5CLDhEQUFDRDs7a0RBQ0MsOERBQUNhO3dDQUFHWixXQUFVO2tEQUE4Qjs7Ozs7O2tEQUM1Qyw4REFBQ1U7d0NBQUVWLFdBQVU7OzRDQUF3QjswREFDN0IsOERBQUNTO2dEQUFLVCxXQUFVOzBEQUE2QlcsNEJBQUFBLHNDQUFBQSxnQkFBaUI5RixLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBSy9FLDhEQUFDa0Y7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRztnQ0FDQ0MsU0FBUyxJQUFNbEcsb0JBQW9CLENBQUNEO2dDQUNwQytGLFdBQVU7Z0NBQ1ZuRixPQUFNOzBDQUVOLDRFQUFDbkMsNElBQVFBO29DQUFDc0gsV0FBVTs7Ozs7Ozs7Ozs7NEJBR3JCL0Ysa0NBQ0MsOERBQUM4RjtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ2E7Z0RBQUdiLFdBQVU7MERBQTRCOzs7Ozs7MERBQzFDLDhEQUFDVTtnREFBRVYsV0FBVTswREFBd0I7Ozs7Ozs7Ozs7OztrREFFdkMsOERBQUNEO3dDQUFJQyxXQUFVO2tEQUNadkYsa0JBQWtCcUQsR0FBRyxDQUFDLENBQUNpQjs0Q0FDdEIsTUFBTStCLGdCQUFnQi9CLFNBQVNuRSxJQUFJOzRDQUNuQyxxQkFDRSw4REFBQ3VGO2dEQUVDQyxTQUFTLElBQU12QixXQUFXRSxTQUFTckUsSUFBSTtnREFDdkNzRixXQUFXLGlFQUlWLE9BSEN0RyxnQkFBZ0JxRixTQUFTckUsSUFBSSxHQUN6QnFFLFNBQVNoRSxLQUFLLEdBQ2Q7MERBR04sNEVBQUNnRjtvREFBSUMsV0FBVTs7c0VBQ2IsOERBQUNjOzREQUFjZCxXQUFVOzs7Ozs7c0VBQ3pCLDhEQUFDRDs7OEVBQ0MsOERBQUNBO29FQUFJQyxXQUFVOzhFQUFlakIsU0FBU2xFLEtBQUs7Ozs7Ozs4RUFDNUMsOERBQUNrRjtvRUFBSUMsV0FBVTs4RUFBc0JqQixTQUFTakUsV0FBVzs7Ozs7Ozs7Ozs7Ozs7Ozs7OytDQVp4RGlFLFNBQVNyRSxJQUFJOzs7Ozt3Q0FpQnhCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUVYsOERBQUNxRjtnQkFBSUMsV0FBVTs7b0JBQ1o5RyxTQUFTNEUsR0FBRyxDQUFDOEI7b0JBRWJ6RiwwQkFDQyw4REFBQzRGO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUM1SCwySUFBS0E7b0NBQUM0SCxXQUFVOzs7Ozs7Ozs7OzswQ0FFbkIsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUNiLDRFQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNEOzRDQUFJQyxXQUFVOzs7Ozs7c0RBQ2YsOERBQUNEOzRDQUFJQyxXQUFVOzRDQUFrRGUsT0FBTztnREFBRUMsZ0JBQWdCOzRDQUFPOzs7Ozs7c0RBQ2pHLDhEQUFDakI7NENBQUlDLFdBQVU7NENBQWtEZSxPQUFPO2dEQUFFQyxnQkFBZ0I7NENBQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQU16Ryw4REFBQ2pCO3dCQUFJa0IsS0FBSzFHOzs7Ozs7Ozs7Ozs7WUFJWFYsaUJBQWlCcUgsTUFBTSxHQUFHLG1CQUN6Qiw4REFBQ25CO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDckgsNElBQUdBO2dDQUFDcUgsV0FBVTs7Ozs7OzBDQUNmLDhEQUFDUztnQ0FBS1QsV0FBVTswQ0FBb0M7Ozs7Ozs7Ozs7OztrQ0FFdEQsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNabkcsaUJBQWlCZ0UsS0FBSyxDQUFDLEdBQUcsR0FBR0MsR0FBRyxDQUFDLENBQUNjLFlBQVlzQixzQkFDN0MsOERBQUNDO2dDQUVDQyxTQUFTLElBQU16QixpQkFBaUJDO2dDQUNoQ29CLFdBQVU7MENBRVRwQjsrQkFKSXNCOzs7Ozs7Ozs7Ozs7Ozs7OzBCQVlmLDhEQUFDSDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUNtQjtvQ0FDQ0YsS0FBS3pHO29DQUNMdUMsTUFBSztvQ0FDTHFFLE9BQU9oSTtvQ0FDUGlJLFVBQVUsQ0FBQzdCLElBQU1uRyxnQkFBZ0JtRyxFQUFFOEIsTUFBTSxDQUFDRixLQUFLO29DQUMvQ0csWUFBWWhDO29DQUNaaUMsYUFBYSwyQkFBZ0UsT0FBckNiLDRCQUFBQSxzQ0FBQUEsZ0JBQWlCOUYsS0FBSyxDQUFDNEcsV0FBVyxJQUFHO29DQUM3RXpCLFdBQVU7b0NBQ1YwQixVQUFVcEk7Ozs7Ozs7Ozs7OzBDQUdkLDhEQUFDNkc7Z0NBQ0NDLFNBQVM3QztnQ0FDVG1FLFVBQVUsQ0FBQ3RJLGFBQWFvRSxJQUFJLE1BQU1sRTtnQ0FDbEMwRyxXQUFVOzBDQUVUMUcsMEJBQ0MsOERBQUN5RztvQ0FBSUMsV0FBVTs7Ozs7eURBRWYsOERBQUM3SCw0SUFBSUE7b0NBQUM2SCxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztrQ0FLdEIsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUF5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTWhFO0dBNWhCd0JqSDs7UUFDSUgsdURBQVVBOzs7S0FEZEciLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2RyaWdvZGliZXJuYXJkbzMzZ21haWwuY29tL0RvY3VtZW50cy9BcHAgRGV2ZWxvcG1lbnQgUHJveWVjdHMvSW50ZWxsZWdvIFBsYXRmb3JtL3NyYy9jb21wb25lbnRzL0VuaGFuY2VkQUlUdXRvckNoYXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNlbmQsIEJyYWluLCBCb29rT3BlbiwgVGFyZ2V0LCBVc2VyLCBTcGFya2xlcywgQmFyQ2hhcnQzLCBIZWxwQ2lyY2xlLCBDYWxlbmRhciwgQ2xvY2ssIFNldHRpbmdzLCBaYXAgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0J1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uTW9kZSwgSW50ZW50VHlwZSB9IGZyb20gJ0AvbGliL2FkdmFuY2VkLWludGVudC1lbmdpbmUnXG5pbXBvcnQgeyBTYXJhUGVyc29uYWxpdHlFbmdpbmUgfSBmcm9tICdAL2xpYi9zYXJhLXBlcnNvbmFsaXR5J1xuXG5pbnRlcmZhY2UgRW5oYW5jZWRDaGF0TWVzc2FnZSB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogJ3VzZXInIHwgJ2FpJyB8ICdzeXN0ZW0nIHwgJ3N1Z2dlc3Rpb24nXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IERhdGVcbiAgbW9kZTogQ29udmVyc2F0aW9uTW9kZVxuICBpbnRlbnQ/OiBJbnRlbnRUeXBlXG4gIG1ldGFkYXRhPzoge1xuICAgIHN1YmplY3Q/OiBzdHJpbmdcbiAgICByZXNvdXJjZXM/OiBhbnlbXVxuICAgIHN1Z2dlc3RlZEFjdGlvbnM/OiBzdHJpbmdbXVxuICAgIGZvbGxvd1VwUXVlc3Rpb25zPzogc3RyaW5nW11cbiAgICB2aXN1YWxpemF0aW9ucz86IGFueVtdXG4gICAgcHJpb3JpdHk/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ3VyZ2VudCdcbiAgfVxufVxuXG5pbnRlcmZhY2UgQ2hhdFNlc3Npb24ge1xuICB1c2VySWQ6IHN0cmluZ1xuICBzZXNzaW9uSWQ6IHN0cmluZ1xuICBjdXJyZW50TW9kZTogQ29udmVyc2F0aW9uTW9kZVxuICBjb250ZXh0OiBhbnlcbiAgbWVzc2FnZUhpc3Rvcnk6IEVuaGFuY2VkQ2hhdE1lc3NhZ2VbXVxuICBhY3RpdmVGZWF0dXJlczoge1xuICAgIHNtYXJ0U3VnZ2VzdGlvbnM6IGJvb2xlYW5cbiAgICBwcm9hY3RpdmVJbnNpZ2h0czogYm9vbGVhblxuICAgIG11bHRpTW9kYWxSZXNwb25zZXM6IGJvb2xlYW5cbiAgICBhZGFwdGl2ZVRvbmU6IGJvb2xlYW5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbmhhbmNlZEFJVHV0b3JDaGF0KCkge1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24gfSA9IHVzZVNlc3Npb24oKVxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPEVuaGFuY2VkQ2hhdE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtpbnB1dE1lc3NhZ2UsIHNldElucHV0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNJbml0aWFsaXppbmcsIHNldElzSW5pdGlhbGl6aW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtjdXJyZW50TW9kZSwgc2V0Q3VycmVudE1vZGVdID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uTW9kZT4oQ29udmVyc2F0aW9uTW9kZS5DSEFUVElORylcbiAgY29uc3QgW3NtYXJ0U3VnZ2VzdGlvbnMsIHNldFNtYXJ0U3VnZ2VzdGlvbnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICBjb25zdCBbcHJvYWN0aXZlSW5zaWdodHMsIHNldFByb2FjdGl2ZUluc2lnaHRzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcbiAgY29uc3QgW3Nob3dNb2RlU2VsZWN0b3IsIHNldFNob3dNb2RlU2VsZWN0b3JdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzZXNzaW9uSWQsIHNldFNlc3Npb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpXG5cbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgbW9kb3MgY29udmVyc2FjaW9uYWxlc1xuICBjb25zdCBjb252ZXJzYXRpb25Nb2RlcyA9IFtcbiAgICB7XG4gICAgICBtb2RlOiBDb252ZXJzYXRpb25Nb2RlLlBMQU5OSU5HLFxuICAgICAgaWNvbjogQ2FsZW5kYXIsXG4gICAgICB0aXRsZTogJ1BsYW5pZmljYWNpw7NuJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnT3JnYW5pemEgdHUgdGllbXBvIHkgY3JlYSBwbGFuZXMgZGUgZXN0dWRpbycsXG4gICAgICBjb2xvcjogJ2JnLWJsdWUtMTAwIHRleHQtYmx1ZS03MDAgYm9yZGVyLWJsdWUtMjAwJ1xuICAgIH0sXG4gICAge1xuICAgICAgbW9kZTogQ29udmVyc2F0aW9uTW9kZS5UVVRPUklORyxcbiAgICAgIGljb246IEJyYWluLFxuICAgICAgdGl0bGU6ICdUdXRvcsOtYScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FwcmVuZGUgY29uY2VwdG9zIHkgcmVzdWVsdmUgZWplcmNpY2lvcycsXG4gICAgICBjb2xvcjogJ2JnLXB1cnBsZS0xMDAgdGV4dC1wdXJwbGUtNzAwIGJvcmRlci1wdXJwbGUtMjAwJ1xuICAgIH0sXG4gICAge1xuICAgICAgbW9kZTogQ29udmVyc2F0aW9uTW9kZS5PUkdBTklaSU5HLFxuICAgICAgaWNvbjogVGFyZ2V0LFxuICAgICAgdGl0bGU6ICdPcmdhbml6YWNpw7NuJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnR2VzdGlvbmEgbWF0ZXJpYWxlcyB5IHJlY3Vyc29zJyxcbiAgICAgIGNvbG9yOiAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tNzAwIGJvcmRlci1ncmVlbi0yMDAnXG4gICAgfSxcbiAgICB7XG4gICAgICBtb2RlOiBDb252ZXJzYXRpb25Nb2RlLlJFVklFV0lORyxcbiAgICAgIGljb246IEJhckNoYXJ0MyxcbiAgICAgIHRpdGxlOiAnQW7DoWxpc2lzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnUmV2aXNhIHR1IHByb2dyZXNvIHkgcmVuZGltaWVudG8nLFxuICAgICAgY29sb3I6ICdiZy1vcmFuZ2UtMTAwIHRleHQtb3JhbmdlLTcwMCBib3JkZXItb3JhbmdlLTIwMCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG1vZGU6IENvbnZlcnNhdGlvbk1vZGUuQ0hBVFRJTkcsXG4gICAgICBpY29uOiBTcGFya2xlcyxcbiAgICAgIHRpdGxlOiAnQ29udmVyc2FjacOzbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0NoYXQgY2FzdWFsIHkgYXBveW8gbW90aXZhY2lvbmFsJyxcbiAgICAgIGNvbG9yOiAnYmctcGluay0xMDAgdGV4dC1waW5rLTcwMCBib3JkZXItcGluay0yMDAnXG4gICAgfVxuICBdXG5cbiAgLy8gR2VuZXJhciBzZXNzaW9uSWQgZXN0YWJsZSBhbCBtb250YXIgZWwgY29tcG9uZW50ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXNzaW9uPy51c2VyICYmICFzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnN0IG5ld1Nlc3Npb25JZCA9IGBzZXNzaW9uXyR7c2Vzc2lvbi51c2VyLmlkfV8ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXG4gICAgICBzZXRTZXNzaW9uSWQobmV3U2Vzc2lvbklkKVxuICAgICAgY29uc29sZS5sb2coJ/Cfjq8gR2VuZXJhdGVkIHN0YWJsZSBzZXNzaW9uSWQ6JywgbmV3U2Vzc2lvbklkKVxuICAgIH1cbiAgfSwgW3Nlc3Npb24/LnVzZXIsIHNlc3Npb25JZF0pXG5cbiAgLy8gSW5pY2lhbGl6YXIgY29udmVyc2FjacOzbiBjb24gU2FyYVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZXNzaW9uPy51c2VyICYmIHNlc3Npb25JZCkge1xuICAgICAgaW5pdGlhbGl6ZVdpdGhTYXJhKClcbiAgICB9XG4gIH0sIFtzZXNzaW9uLCBzZXNzaW9uSWRdKVxuXG4gIC8vIEF1dG8tc2Nyb2xsIHkgZm9jb1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvQm90dG9tKClcbiAgfSwgW21lc3NhZ2VzXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNMb2FkaW5nICYmIGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKVxuICAgIH1cbiAgfSwgW2lzTG9hZGluZ10pXG5cbiAgY29uc3QgaW5pdGlhbGl6ZVdpdGhTYXJhID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0luaXRpYWxpemluZyh0cnVlKVxuICAgICAgXG4gICAgICAvLyBJbmljaWFsaXphciBjb252ZXJzYWNpw7NuIGNvbiBTYXJhXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FpLWNoYXQvaW5pdGlhbGl6ZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlcklkOiBzZXNzaW9uPy51c2VyPy5pZCxcbiAgICAgICAgICB1c2VyTmFtZTogc2Vzc2lvbj8udXNlcj8ubmFtZSxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCxcbiAgICAgICAgICBtb2RlOiBjdXJyZW50TW9kZVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlOiBFbmhhbmNlZENoYXRNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiBgaW5pdF8ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICB0eXBlOiAnYWknLFxuICAgICAgICAgIGNvbnRlbnQ6IGRhdGEud2VsY29tZU1lc3NhZ2UgfHwgJ8KhSG9sYSEgU295IFNhcmEsIHR1IGFzaXN0ZW50ZSBwZXJzb25hbCBhY2Fkw6ltaWNvLiDCv0VuIHF1w6kgcHVlZG8gYXl1ZGFydGUgaG95PycsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIG1vZGU6IGN1cnJlbnRNb2RlLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBzdWdnZXN0ZWRBY3Rpb25zOiBkYXRhLnN1Z2dlc3RlZEFjdGlvbnMgfHwgW1xuICAgICAgICAgICAgICAnUGxhbmlmaWNhciBzZXNpb25lcyBkZSBlc3R1ZGlvJyxcbiAgICAgICAgICAgICAgJ1JldmlzYXIgbWkgcHJvZ3Jlc28nLFxuICAgICAgICAgICAgICAnT3JnYW5pemFyIG1pIGhvcmFyaW8nLFxuICAgICAgICAgICAgICAnQnVzY2FyIG1hdGVyaWFsZXMgZGUgZXN0dWRpbydcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBmb2xsb3dVcFF1ZXN0aW9uczogZGF0YS5mb2xsb3dVcFF1ZXN0aW9ucyB8fCBbXG4gICAgICAgICAgICAgICfCv1F1w6kgdGUgZ3VzdGFyw61hIGxvZ3JhciBob3k/JyxcbiAgICAgICAgICAgICAgJ8K/SGF5IGFsZ3VuYSBtYXRlcmlhIGVuIGxhIHF1ZSBuZWNlc2l0ZXMgYXl1ZGE/J1xuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNldE1lc3NhZ2VzKFt3ZWxjb21lTWVzc2FnZV0pXG4gICAgICAgIFxuICAgICAgICAvLyBDYXJnYXIgaW5zaWdodHMgcHJvYWN0aXZvc1xuICAgICAgICBpZiAoZGF0YS5wcm9hY3RpdmVJbnNpZ2h0cykge1xuICAgICAgICAgIHNldFByb2FjdGl2ZUluc2lnaHRzKGRhdGEucHJvYWN0aXZlSW5zaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYXIgc3VnZXJlbmNpYXMgaW50ZWxpZ2VudGVzXG4gICAgICAgIGdlbmVyYXRlU21hcnRTdWdnZXN0aW9ucyhjdXJyZW50TW9kZSlcbiAgICAgICAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgY2hhdCcpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBTYXJhOicsIGVycm9yKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0luaXRpYWxpemluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlucHV0TWVzc2FnZS50cmltKCkgfHwgaXNMb2FkaW5nKSByZXR1cm5cblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBFbmhhbmNlZENoYXRNZXNzYWdlID0ge1xuICAgICAgaWQ6IGB1c2VyXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdHlwZTogJ3VzZXInLFxuICAgICAgY29udGVudDogaW5wdXRNZXNzYWdlLnRyaW0oKSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIG1vZGU6IGN1cnJlbnRNb2RlXG4gICAgfVxuXG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2VdKVxuICAgIHNldElucHV0TWVzc2FnZSgnJylcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICBzZXRJc1R5cGluZyh0cnVlKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OkIFNlbmRpbmcgbWVzc2FnZSB3aXRoIHNlc3Npb25JZDonLCBzZXNzaW9uSWQpXG4gICAgICBcbiAgICAgIC8vIFByb2Nlc2FyIGNvbWFuZG8gYXZhbnphZG8gY29uIFNhcmFcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWktY2hhdC9lbmhhbmNlZC1tZXNzYWdlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlOiB1c2VyTWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHVzZXJJZDogc2Vzc2lvbj8udXNlcj8uaWQsXG4gICAgICAgICAgdXNlck5hbWU6IHNlc3Npb24/LnVzZXI/Lm5hbWUsXG4gICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXG4gICAgICAgICAgY3VycmVudE1vZGUsXG4gICAgICAgICAgY29udmVyc2F0aW9uSGlzdG9yeTogbWVzc2FnZXMuc2xpY2UoLTEwKS5tYXAobSA9PiAoe1xuICAgICAgICAgICAgcm9sZTogbS50eXBlID09PSAndXNlcicgPyAndXNlcicgOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudFxuICAgICAgICAgIH0pKVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFpTWVzc2FnZTogRW5oYW5jZWRDaGF0TWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogYGFpXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIHR5cGU6ICdhaScsXG4gICAgICAgICAgY29udGVudDogZGF0YS5yZXNwb25zZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgbW9kZTogZGF0YS5zdWdnZXN0ZWRNb2RlIHx8IGN1cnJlbnRNb2RlLFxuICAgICAgICAgIGludGVudDogZGF0YS5kZXRlY3RlZEludGVudCxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgc3VnZ2VzdGVkQWN0aW9uczogZGF0YS5zdWdnZXN0ZWRBY3Rpb25zLFxuICAgICAgICAgICAgZm9sbG93VXBRdWVzdGlvbnM6IGRhdGEuZm9sbG93VXBRdWVzdGlvbnMsXG4gICAgICAgICAgICB2aXN1YWxpemF0aW9uczogZGF0YS52aXN1YWxpemF0aW9ucyxcbiAgICAgICAgICAgIHByaW9yaXR5OiBkYXRhLnByaW9yaXR5LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBkYXRhLnJlc291cmNlc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGFpTWVzc2FnZV0pXG4gICAgICAgIFxuICAgICAgICAvLyBBY3R1YWxpemFyIG1vZG8gc2kgU2FyYSBsbyBzdWdpZXJlXG4gICAgICAgIGlmIChkYXRhLnN1Z2dlc3RlZE1vZGUgJiYgZGF0YS5zdWdnZXN0ZWRNb2RlICE9PSBjdXJyZW50TW9kZSkge1xuICAgICAgICAgIHNldEN1cnJlbnRNb2RlKGRhdGEuc3VnZ2VzdGVkTW9kZSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXIgbnVldmFzIHN1Z2VyZW5jaWFzIGJhc2FkYXMgZW4gbGEgY29udmVyc2FjacOzblxuICAgICAgICBnZW5lcmF0ZUNvbnRleHR1YWxTdWdnZXN0aW9ucyhkYXRhLmRldGVjdGVkSW50ZW50LCBkYXRhLnJlc3BvbnNlKVxuICAgICAgICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZW4gbGEgcmVzcHVlc3RhIGRlbCBzZXJ2aWRvcicpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcilcbiAgICAgIFxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBFbmhhbmNlZENoYXRNZXNzYWdlID0ge1xuICAgICAgICBpZDogYGVycm9yXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgY29udGVudDogJ0xvIHNpZW50bywgaHVibyB1biBwcm9ibGVtYSBwcm9jZXNhbmRvIHR1IG1lbnNhamUuIFBvciBmYXZvciBpbnRlbnRhIGRlIG51ZXZvLicsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgbW9kZTogY3VycmVudE1vZGVcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0U3VnZ2VzdGlvbiA9IChzdWdnZXN0aW9uOiBzdHJpbmcpID0+IHtcbiAgICBzZXRJbnB1dE1lc3NhZ2Uoc3VnZ2VzdGlvbilcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hhbmdlTW9kZSA9IChuZXdNb2RlOiBDb252ZXJzYXRpb25Nb2RlKSA9PiB7XG4gICAgc2V0Q3VycmVudE1vZGUobmV3TW9kZSlcbiAgICBzZXRTaG93TW9kZVNlbGVjdG9yKGZhbHNlKVxuICAgIFxuICAgIC8vIE1lbnNhamUgZGVsIHNpc3RlbWEgc29icmUgY2FtYmlvIGRlIG1vZG9cbiAgICBjb25zdCBtb2RlSW5mbyA9IGNvbnZlcnNhdGlvbk1vZGVzLmZpbmQobSA9PiBtLm1vZGUgPT09IG5ld01vZGUpXG4gICAgY29uc3Qgc3lzdGVtTWVzc2FnZTogRW5oYW5jZWRDaGF0TWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgbW9kZV8ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgY29udGVudDogYE1vZG8gY2FtYmlhZG8gYTogJHttb2RlSW5mbz8udGl0bGV9LiAke21vZGVJbmZvPy5kZXNjcmlwdGlvbn1gLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgbW9kZTogbmV3TW9kZVxuICAgIH1cbiAgICBcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBzeXN0ZW1NZXNzYWdlXSlcbiAgICBnZW5lcmF0ZVNtYXJ0U3VnZ2VzdGlvbnMobmV3TW9kZSlcbiAgfVxuXG4gIGNvbnN0IGdlbmVyYXRlU21hcnRTdWdnZXN0aW9ucyA9IChtb2RlOiBDb252ZXJzYXRpb25Nb2RlKSA9PiB7XG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB7XG4gICAgICBbQ29udmVyc2F0aW9uTW9kZS5QTEFOTklOR106IFtcbiAgICAgICAgXCJDcmVhIHVuIHBsYW4gZGUgZXN0dWRpbyBwYXJhIGVzdGEgc2VtYW5hXCIsXG4gICAgICAgIFwiT3JnYW5pemEgbWkgaG9yYXJpbyBkZSBtYXRlbcOhdGljYXNcIixcbiAgICAgICAgXCLCv0N1w6FuZG8gZGViZXLDrWEgZXN0dWRpYXIgcGFyYSBlbCBleGFtZW4/XCIsXG4gICAgICAgIFwiT3B0aW1pemEgbWkgdGllbXBvIGRlIGVzdHVkaW9cIlxuICAgICAgXSxcbiAgICAgIFtDb252ZXJzYXRpb25Nb2RlLlRVVE9SSU5HXTogW1xuICAgICAgICBcIkV4cGzDrWNhbWUgZXN0ZSBjb25jZXB0byBkZSBmw61zaWNhXCIsXG4gICAgICAgIFwiQXnDumRhbWUgY29uIGVzdGUgZWplcmNpY2lvIGRlIHF1w61taWNhXCIsXG4gICAgICAgIFwiwr9QdWVkZXMgcmVzb2x2ZXIgZXN0ZSBwcm9ibGVtYSBwYXNvIGEgcGFzbz9cIixcbiAgICAgICAgXCJOZWNlc2l0byBwcmFjdGljYXIgw6FsZ2VicmFcIlxuICAgICAgXSxcbiAgICAgIFtDb252ZXJzYXRpb25Nb2RlLk9SR0FOSVpJTkddOiBbXG4gICAgICAgIFwiT3JnYW5pemEgbWlzIG1hdGVyaWFsZXMgZGUgZXN0dWRpb1wiLFxuICAgICAgICBcIkltcG9ydGEgbWkgaG9yYXJpbyBlc2NvbGFyXCIsXG4gICAgICAgIFwiRW5jdWVudHJhIHJlY3Vyc29zIHBhcmEgYmlvbG9nw61hXCIsXG4gICAgICAgIFwiR2VzdGlvbmEgbWlzIGRlYWRsaW5lc1wiXG4gICAgICBdLFxuICAgICAgW0NvbnZlcnNhdGlvbk1vZGUuUkVWSUVXSU5HXTogW1xuICAgICAgICBcIkFuYWxpemEgbWkgcHJvZ3Jlc28gYWNhZMOpbWljb1wiLFxuICAgICAgICBcIsK/Q8OzbW8gdm95IGVuIG1hdGVtw6F0aWNhcz9cIixcbiAgICAgICAgXCJNdWVzdHJhIG1pcyBlc3RhZMOtc3RpY2FzIGRlIGVzdHVkaW9cIixcbiAgICAgICAgXCLCv0VuIHF1w6kgbWF0ZXJpYXMgZGVibyBtZWpvcmFyP1wiXG4gICAgICBdLFxuICAgICAgW0NvbnZlcnNhdGlvbk1vZGUuQ0hBVFRJTkddOiBbXG4gICAgICAgIFwiwr9Dw7NtbyBwdWVkbyBtYW50ZW5lcm1lIG1vdGl2YWRvP1wiLFxuICAgICAgICBcIk1lIHNpZW50byBhYnJ1bWFkbyBjb24gbG9zIGVzdHVkaW9zXCIsXG4gICAgICAgIFwiTmVjZXNpdG8gY29uc2Vqb3MgcGFyYSBjb25jZW50cmFybWVcIixcbiAgICAgICAgXCLCv0PDs21vIGJhbGFuY2VvIGVzdHVkaW8geSB2aWRhIHBlcnNvbmFsP1wiXG4gICAgICBdXG4gICAgfVxuICAgIFxuICAgIHNldFNtYXJ0U3VnZ2VzdGlvbnMoc3VnZ2VzdGlvbnNbbW9kZV0gfHwgW10pXG4gIH1cblxuICBjb25zdCBnZW5lcmF0ZUNvbnRleHR1YWxTdWdnZXN0aW9ucyA9IChpbnRlbnQ/OiBJbnRlbnRUeXBlLCByZXNwb25zZT86IHN0cmluZykgPT4ge1xuICAgIC8vIEdlbmVyYXIgc3VnZXJlbmNpYXMgYmFzYWRhcyBlbiBlbCBjb250ZXh0byBkZSBsYSBjb252ZXJzYWNpw7NuXG4gICAgaWYgKGludGVudCA9PT0gSW50ZW50VHlwZS5TQ0hFRFVMRV9NQU5BR0VNRU5UKSB7XG4gICAgICBzZXRTbWFydFN1Z2dlc3Rpb25zKFtcbiAgICAgICAgXCJNdWVzdHJhIG1pIGNhbGVuZGFyaW8gb3B0aW1pemFkb1wiLFxuICAgICAgICBcIkRldGVjdGEgY29uZmxpY3RvcyBlbiBtaSBob3JhcmlvXCIsXG4gICAgICAgIFwiUHJvZ3JhbWEgc2VzaW9uZXMgZGUgZXN0dWRpbyBhdXRvbcOhdGljYW1lbnRlXCJcbiAgICAgIF0pXG4gICAgfSBlbHNlIGlmIChpbnRlbnQgPT09IEludGVudFR5cGUuUEVSRk9STUFOQ0VfQU5BTFlTSVMpIHtcbiAgICAgIHNldFNtYXJ0U3VnZ2VzdGlvbnMoW1xuICAgICAgICBcIsK/UXXDqSBtYXRlcmlhcyBuZWNlc2l0YW4gbcOhcyBhdGVuY2nDs24/XCIsXG4gICAgICAgIFwiR2VuZXJhIHVuIHBsYW4gZGUgbWVqb3JhIHBlcnNvbmFsaXphZG9cIixcbiAgICAgICAgXCJDb21wYXJhIG1pIHJlbmRpbWllbnRvIGNvbiBvYmpldGl2b3NcIlxuICAgICAgXSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBzZW5kTWVzc2FnZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyTWVzc2FnZSA9IChtZXNzYWdlOiBFbmhhbmNlZENoYXRNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgaXNVc2VyID0gbWVzc2FnZS50eXBlID09PSAndXNlcidcbiAgICBjb25zdCBpc1N5c3RlbSA9IG1lc3NhZ2UudHlwZSA9PT0gJ3N5c3RlbSdcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBrZXk9e21lc3NhZ2UuaWR9IGNsYXNzTmFtZT17YGZsZXggJHtpc1VzZXIgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSBtYi00YH0+XG4gICAgICAgIHshaXNVc2VyICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgbXItM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tdGVhbC01MDAgdG8tZW1lcmFsZC01MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxCcmFpbiBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG1heC13LVs4MCVdICR7aXNVc2VyID8gJ29yZGVyLTEnIDogJ29yZGVyLTInfWB9PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLTJ4bCAke1xuICAgICAgICAgICAgICBpc1VzZXJcbiAgICAgICAgICAgICAgICA/ICdiZy10ZWFsLTYwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgIDogaXNTeXN0ZW1cbiAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIGJvcmRlci1sLTQgYm9yZGVyLWJsdWUtNTAwJ1xuICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgdGV4dC1ncmF5LTgwMCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttZXNzYWdlLmNvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHttZXNzYWdlLm1ldGFkYXRhPy5zdWdnZXN0ZWRBY3Rpb25zICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2UubWV0YWRhdGEuc3VnZ2VzdGVkQWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2VsZWN0U3VnZ2VzdGlvbihhY3Rpb24pfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctdGVhbC0xMDAgdGV4dC10ZWFsLTcwMCByb3VuZGVkLWZ1bGwgdGV4dC1zbSBob3ZlcjpiZy10ZWFsLTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHthY3Rpb259XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7bWVzc2FnZS5tZXRhZGF0YT8uZm9sbG93VXBRdWVzdGlvbnMgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC1zbSBvcGFjaXR5LTc1XCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2UubWV0YWRhdGEuZm9sbG93VXBRdWVzdGlvbnMubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwibWItMVwiPvCfkq0ge3F1ZXN0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMSBweC0xXCI+XG4gICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgICAgICAgICA/IG1lc3NhZ2UudGltZXN0YW1wLnRvTG9jYWxlVGltZVN0cmluZygnZXMtRVMnLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSlcbiAgICAgICAgICAgICAgOiBuZXcgRGF0ZShtZXNzYWdlLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlcy1FUycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAge21lc3NhZ2UubW9kZSAhPT0gQ29udmVyc2F0aW9uTW9kZS5DSEFUVElORyAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC10ZWFsLTYwMFwiPlxuICAgICAgICAgICAgICAgIOKAoiB7Y29udmVyc2F0aW9uTW9kZXMuZmluZChtID0+IG0ubW9kZSA9PT0gbWVzc2FnZS5tb2RlKT8udGl0bGV9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAge2lzVXNlciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIG1sLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ncmF5LTMwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgaWYgKGlzSW5pdGlhbGl6aW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC05NlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci10ZWFsLTUwMCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+SW5pY2lhbGl6YW5kbyBTYXJhLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRNb2RlSW5mbyA9IGNvbnZlcnNhdGlvbk1vZGVzLmZpbmQobSA9PiBtLm1vZGUgPT09IGN1cnJlbnRNb2RlKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtWzYwMHB4XSBiZy13aGl0ZSByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZ3JheS0yMDAgc2hhZG93LXNtXCI+XG4gICAgICB7LyogSGVhZGVyIGNvbiBzZWxlY3RvciBkZSBtb2RvICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBiZy1ncmFkaWVudC10by1yIGZyb20tdGVhbC01MCB0by1lbWVyYWxkLTUwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS10ZWFsLTUwMCB0by1lbWVyYWxkLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxCcmFpbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+U2FyYSAtIEFzaXN0ZW50ZSBQZXJzb25hbCBBY2Fkw6ltaWNvPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBNb2RvOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXRlYWwtNjAwXCI+e2N1cnJlbnRNb2RlSW5mbz8udGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9kZVNlbGVjdG9yKCFzaG93TW9kZVNlbGVjdG9yKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHRpdGxlPVwiQ2FtYmlhciBtb2RvIGRlIGNvbnZlcnNhY2nDs25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JheS02MDBcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIHtzaG93TW9kZVNlbGVjdG9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCB0b3AtMTIgdy04MCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHotMTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj5Nb2RvcyBkZSBDb252ZXJzYWNpw7NuPC9oND5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5TZWxlY2Npb25hIGVsIHRpcG8gZGUgYXl1ZGEgcXVlIG5lY2VzaXRhczwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+XG4gICAgICAgICAgICAgICAge2NvbnZlcnNhdGlvbk1vZGVzLm1hcCgobW9kZUluZm8pID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSBtb2RlSW5mby5pY29uXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXttb2RlSW5mby5tb2RlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNoYW5nZU1vZGUobW9kZUluZm8ubW9kZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtMyByb3VuZGVkLWxnIGJvcmRlciB0ZXh0LWxlZnQgdHJhbnNpdGlvbi1jb2xvcnMgbWItMiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vZGUgPT09IG1vZGVJbmZvLm1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtb2RlSW5mby5jb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkNvbXBvbmVudCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57bW9kZUluZm8udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBvcGFjaXR5LTc1XCI+e21vZGVJbmZvLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiDDgXJlYSBkZSBtZW5zYWplcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgIHttZXNzYWdlcy5tYXAocmVuZGVyTWVzc2FnZSl9XG4gICAgICAgIFxuICAgICAgICB7aXNUeXBpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ncmFkaWVudC10by1iciBmcm9tLXRlYWwtNTAwIHRvLWVtZXJhbGQtNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8QnJhaW4gY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCByb3VuZGVkLWxnIHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWdyYXktNDAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT17eyBhbmltYXRpb25EZWxheTogJzAuMXMnIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIiBzdHlsZT17eyBhbmltYXRpb25EZWxheTogJzAuMnMnIH19PjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTdWdlcmVuY2lhcyBpbnRlbGlnZW50ZXMgKi99XG4gICAgICB7c21hcnRTdWdnZXN0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbWItMlwiPlxuICAgICAgICAgICAgPFphcCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQteWVsbG93LTUwMFwiIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5TdWdlcmVuY2lhczwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICB7c21hcnRTdWdnZXN0aW9ucy5zbGljZSgwLCA0KS5tYXAoKHN1Z2dlc3Rpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNlbGVjdFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbil9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktMTAwIHRleHQtZ3JheS03MDAgcm91bmRlZC1mdWxsIHRleHQtc20gaG92ZXI6YmctZ3JheS0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3N1Z2dlc3Rpb259XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIElucHV0IGRlIG1lbnNhamUgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2lucHV0TWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleVByZXNzPXtoYW5kbGVLZXlQcmVzc31cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BFc2NyaWJlIHR1IG1lbnNhamUgcGFyYSAke2N1cnJlbnRNb2RlSW5mbz8udGl0bGUudG9Mb3dlckNhc2UoKX0uLi5gfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy10ZWFsLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgb3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICBkaXNhYmxlZD17IWlucHV0TWVzc2FnZS50cmltKCkgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJnLXRlYWwtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy10ZWFsLTcwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgU2FyYSByZXNwb25kZSB1c2FuZG8gaW50ZWxpZ2VuY2lhIGFydGlmaWNpYWwuIFZlcmlmaWNhIGluZm9ybWFjacOzbiBpbXBvcnRhbnRlLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiU2VuZCIsIkJyYWluIiwiVGFyZ2V0IiwiVXNlciIsIlNwYXJrbGVzIiwiQmFyQ2hhcnQzIiwiQ2FsZW5kYXIiLCJTZXR0aW5ncyIsIlphcCIsInVzZVNlc3Npb24iLCJDb252ZXJzYXRpb25Nb2RlIiwiSW50ZW50VHlwZSIsIkVuaGFuY2VkQUlUdXRvckNoYXQiLCJkYXRhIiwic2Vzc2lvbiIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dE1lc3NhZ2UiLCJzZXRJbnB1dE1lc3NhZ2UiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc0luaXRpYWxpemluZyIsInNldElzSW5pdGlhbGl6aW5nIiwiY3VycmVudE1vZGUiLCJzZXRDdXJyZW50TW9kZSIsIkNIQVRUSU5HIiwic21hcnRTdWdnZXN0aW9ucyIsInNldFNtYXJ0U3VnZ2VzdGlvbnMiLCJwcm9hY3RpdmVJbnNpZ2h0cyIsInNldFByb2FjdGl2ZUluc2lnaHRzIiwic2hvd01vZGVTZWxlY3RvciIsInNldFNob3dNb2RlU2VsZWN0b3IiLCJpc1R5cGluZyIsInNldElzVHlwaW5nIiwic2Vzc2lvbklkIiwic2V0U2Vzc2lvbklkIiwibWVzc2FnZXNFbmRSZWYiLCJpbnB1dFJlZiIsImNvbnZlcnNhdGlvbk1vZGVzIiwibW9kZSIsIlBMQU5OSU5HIiwiaWNvbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb2xvciIsIlRVVE9SSU5HIiwiT1JHQU5JWklORyIsIlJFVklFV0lORyIsInVzZXIiLCJuZXdTZXNzaW9uSWQiLCJEYXRlIiwiaWQiLCJNYXRoIiwibm93IiwidG9TdHJpbmciLCJyYW5kb20iLCJzdWJzdHIiLCJjb25zb2xlIiwibG9nIiwiaW5pdGlhbGl6ZVdpdGhTYXJhIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50IiwiZm9jdXMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlcklkIiwidXNlck5hbWUiLCJuYW1lIiwib2siLCJqc29uIiwid2VsY29tZU1lc3NhZ2UiLCJ0eXBlIiwiY29udGVudCIsInRpbWVzdGFtcCIsIm1ldGFkYXRhIiwic3VnZ2VzdGVkQWN0aW9ucyIsImZvbGxvd1VwUXVlc3Rpb25zIiwiZ2VuZXJhdGVTbWFydFN1Z2dlc3Rpb25zIiwiZXJyb3IiLCJzZW5kTWVzc2FnZSIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsInByZXYiLCJtZXNzYWdlIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsInNsaWNlIiwibWFwIiwibSIsInJvbGUiLCJhaU1lc3NhZ2UiLCJzdWdnZXN0ZWRNb2RlIiwiaW50ZW50IiwiZGV0ZWN0ZWRJbnRlbnQiLCJ2aXN1YWxpemF0aW9ucyIsInByaW9yaXR5IiwicmVzb3VyY2VzIiwiZ2VuZXJhdGVDb250ZXh0dWFsU3VnZ2VzdGlvbnMiLCJFcnJvciIsImVycm9yTWVzc2FnZSIsInNlbGVjdFN1Z2dlc3Rpb24iLCJzdWdnZXN0aW9uIiwiY2hhbmdlTW9kZSIsIm5ld01vZGUiLCJtb2RlSW5mbyIsImZpbmQiLCJzeXN0ZW1NZXNzYWdlIiwic3VnZ2VzdGlvbnMiLCJTQ0hFRFVMRV9NQU5BR0VNRU5UIiwiUEVSRk9STUFOQ0VfQU5BTFlTSVMiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGFuZGxlS2V5UHJlc3MiLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsInJlbmRlck1lc3NhZ2UiLCJpc1VzZXIiLCJpc1N5c3RlbSIsImRpdiIsImNsYXNzTmFtZSIsImFjdGlvbiIsImluZGV4IiwiYnV0dG9uIiwib25DbGljayIsInF1ZXN0aW9uIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsInNwYW4iLCJwIiwiY3VycmVudE1vZGVJbmZvIiwiaDMiLCJoNCIsIkljb25Db21wb25lbnQiLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwicmVmIiwibGVuZ3RoIiwiaW5wdXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIiwidG9Mb3dlckNhc2UiLCJkaXNhYmxlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/EnhancedAITutorChat.tsx\n"));

/***/ })

});